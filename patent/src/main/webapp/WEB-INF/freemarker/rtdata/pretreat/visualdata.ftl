<!DOCTYPE html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <link rel="SHORTCUT ICON" href=" ../../../css/images/shccig.png"/>
    <link type="text/css" href="../../../GUI/gui/css/gui.bootstarp.min.css" rel="stylesheet">
    <link type="text/css" href="../../../GUI/gui/themes/default/gui.purplelight.css" rel="stylesheet" id="dynamicTheme"/>
    <link rel="stylesheet" type="text/css" href="../../../GUI/static/plugins/layui/css/layui.css">
    <link rel="stylesheet" type="text/css" href="../../../GUI/static/public/css/font.css" />
    <link rel="stylesheet" type="text/css" href="../../../GUI/gui/css/style.css">
    <link rel="stylesheet" type="text/css" href="../../../GUI/gui/css/gui.index.css">
    <link rel="stylesheet" type="text/css" href="../../../GUI/gui/css/search.css">
    <link rel="stylesheet" type="text/css" href="../../../css/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../../../GUI/gui/css/animate.min.css">
    <!-- FontAwesome字体图标 -->
    <link type="text/css" href="../../../GUI/static/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
    <link type="text/css" href="../../../css/home/home.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../../../GUI/static/plugins/doublebox-boostrap/css/doublebox.css" />
    <link rel="stylesheet" type="text/css" href="../../../GUI/static/plugins/doublebox-boostrap/css/doublebox-bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../../../GUI/static/plugins/doublebox-boostrap/css/bootstrap-glyphicons.css" />

    <link rel="stylesheet" media="screen" href="../../../thirdparty/handsontable/handsontable.full.css" />
    <link rel="stylesheet" media="screen" href="../../../img/iconfont/material-icons.css" />

</head>

<body>
<div >
    <div class="data-table" />
</div>
</body>
<!-- data-main attribute tells require.js to load scriinit.jsn.js after require.js loads. -->

<script type="text/javascript" src="../../../js/common/json2.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../easyui/jquery.min.js" charset="utf-8"></script>
<script language="JavaScript" type="text/javascript" src="../../../easyui/jquery.easyui.min.js" charset="utf-8"></script>
<script language="JavaScript" type="text/javascript" src="../../../easyui/locale/easyui-lang-zh_CN.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../easyui/extension/datagrid-cellediting.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../js/common/common.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/common/tools.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/common/http.js"></script>
<!--form表单数据-->
<script language="JavaScript" type="text/javascript" src="../../../js/common/databind.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/common/formBuilder.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../js/extension/detaildatagrid.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/extension/dialog.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../js/extension/auxinput.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/extension/treeSearch.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../js/common/form.js"></script>

<!--<script language="JavaScript" type="text/javascript" src="../../../js/common/masterslave.js"></script>-->
<script language="JavaScript" type="text/javascript" src="../../../js/common/table.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/singletable.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../js/common/ui-common.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/workflow/workflow.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../js/datatable/datatable.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../thirdparty/wangEditor/wangEditor.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../thirdparty/layer-v3.0.3/layer.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/common/DateUtils.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../js/select/dialog-select.js"></script>

<script type="text/javascript" src="../../../GUI/static/plugins/jquery/jquery.cookie.js"></script>
<!-- gui框架配置-->
<script type="text/javascript" src="../../../GUI/static/public/js/gui.config.js"></script>
<!-- gui框架核心 -->
<script type="text/javascript" src="../../../GUI/gui/js/gui.js"></script>
<script type="text/javascript" src="../../../GUI/gui/js/moduleloader.js"></script>

<!-- gui中文支持 -->
<script type="text/javascript" src="../../../GUI/gui/js/locale/gui.lang.zh_CN.js"></script>
<!-- 首页js -->
<script type="text/javascript" src="../../../GUI/static/public/js/gui.index.js" charset="utf-8"></script>
<script type="text/javascript" src="../../../GUI/static/plugins/gui/gui.function.js"></script>
<!-- layui框架js -->
<script type="text/javascript" src="../../../GUI/static/plugins/layui/layui.js" charset="utf-8"></script>
<script type="text/javascript" src="../../../GUI/static/plugins/ueditor/ueditor.config.js"></script>
<!-- 编辑器源码文件 -->
<script type="text/javascript" src="../../../GUI/static/plugins/ueditor/ueditor.all.js"></script>
<script type="text/javascript" src="../../../GUI/gui/js/container.js"></script>
<script type="text/javascript" src="../../../GUI/gui/js/extension/datagrid-dnd.js"></script>
<script type="text/javascript" src="../../../GUI/gui/js/extension/treegrid-dnd.js"></script>
<script type="text/javascript" src="../../../GUI/gui/js/extension/gui-combobox.js"></script>
<script type="text/javascript" src="../../../GUI/gui/js/auxiliary.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../js/extension/datagrid.js"></script>
<!--数据表编辑-->
<script language="JavaScript" type="text/javascript" src="../../../easyui/extension/datagrid-cellediting.js"></script>
<!--mock数据-->
<script language="JavaScript" type="text/javascript" src="../../../mock/mock.js"></script>

<script language="JavaScript" type="text/javascript" src="../../../js/fabric/fabric.js"></script>
<!--<script language="JavaScript" type="text/javascript" src="../../../js/bluebird.min.js"></script>-->
<script type="text/javascript" src="../../../GUI/static/plugins/doublebox-boostrap/js/doublebox-bootstrap.js"></script>


<script language="JavaScript" type="text/javascript" src="../../../thirdparty/handsontable/handsontable.full.js"></script>
<script language="JavaScript" type="text/javascript" src="../../../thirdparty/handsontable/languages/all.js"></script>

<!--<script language="JavaScript" type="text/javascript" src="../../../thirdparty/laydate/laydate.js" />-->

<script language="JavaScript" type="text/javascript">

    $(document).ready(function(){
        $(".data-table").datagrid({
            columns: [[
                {title: "ID", index: 10, field: "id", width: 160, halign:'center', align: 'left',  hidden: true },
                {title: "指标ID", index: 20, field: "metric", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "指标名称", index: 30, field: "name", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "日期", index: 40, field: "thdate", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "时间点", index: 50, field: "time", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "值", index: 60, field: "value", width: 160, halign:'center', align: 'right',  hidden: false }
            ]],
            rownumbers:true,
            singleSelect:true
        });
        HTTP.post("../datas",{code: '${code}'},function (data) {

            var columns = [
                {title: "日期", index: 10, field: "thdate", width: 120, halign:'center', align: 'center',  hidden: false },
                {title: "时间点", index: 20, field: "time", width: 120, halign:'center', align: 'center',  hidden: false }
            ];

            var fields = data.fields;

            for (var i = 0; i < fields.length; i++) {
                columns.push({title: fields[i], index: i*10 + 30, field: fields[i], width: 160, halign:'center', align: 'right',  hidden: false })
            }

            $(".data-table").datagrid({
                columns: [columns]
            });

            $(".data-table").datagrid("loadData",data.datas);
        })
    });


</script>
</html>
