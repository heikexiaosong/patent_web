<div id="reportParam" class="gui-div">
    <table class="toolbar-table" data-options="id: 'reportParamTable'">
    </table>
    <div id="reportParamTable-toolbar" class="gui-toolbar" data-options="grid:{type:'datagrid',id:'reportParamTable'}">
        <a class="toolbar-reload toolbar"  href="javascript:void(0)"></a>
        <a class="toolbar-add toolbar" href="javascript:void(0)"></a>
        <a class="toolbar-edit toolbar" href="javascript:void(0)"></a>
        <a class="toolbar-delete toolbar" href="javascript:void(0)"></a>

        <a class="btn btn-primary serach toolbar-search"></a>
        <div class="bdsug" style="height: auto;">
            <form action="" class="query-criteria">
                <ul><li class="bdsug-store bdsug-overflow">
                    <span style="margin: 10px">
                        <label >参数编码：</label> <input type="text" name="csbm" data-toggle="gui-textbox" class="gui-textbox">
                    </span>
                    <span style="margin: 10px">
                        <label >参数名称：</label> <input type="text" name="csmc" data-toggle="gui-textbox" class="gui-textbox">
                    </span>
                </li></ul>
            </form>
        </div>
    </div>
</div>
<script>



    $(function () {

        $("#reportParam input[name='start']").iDatebox({});
        $("#reportParam input[name='end']").iDatebox({});

        var $div=$('#reportParam');
        var options={
            url:'report/reportparam',
            columns:[[
                {title: "ID", index: 10, field: "id", width: 160, halign:'center', align: 'left',  hidden: true },
                {title: "参数分组", index: 10, field: "csfz", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "参数编码", index: 20, field: "csbm", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "参数名称", index: 30, field: "csmc", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "参数分类", index: 35, field: "type", width: 160, halign:'center', align: 'left',  hidden: false ,
                    formatter:function (value) {
                        return {F: '函数', P: '变量'}[value] || value;
                    }
                },
                {title: "取值方式", index: 40, field: "cslx", width: 160, halign:'center', align: 'left',  hidden: false ,
                    formatter:function (value) {
                        return {S: 'SQL语句'}[value] || value;
                    }
                },
                {title: "返回值类型", index: 40, field: "fhzlx", width: 160, halign:'center', align: 'left',  hidden: false ,
                    formatter:function (value) {
                        return {float: '数值', datetime: "日期时间", string: "字符串"}[value] || value;
                    }
                },
                {title: "参数选项", index: 60, field: "csxx", width: 160, halign:'center', align: 'left',  hidden: true },
                {title: "参数说明", index: 65, field: "cssm", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "状态", index: 70, field: "tybz", width: 160, fieldType:"tybz",  hidden: false },
                {title: "停用日期", index: 80, field: "tyrq", width: 160, halign:'center', align: 'center',  hidden: false , formatter:function (value) {
                        if ( value==undefined || value =='' ){
                            return "";
                        }
                        var date = new Date(parseInt(value));
                        if ( isNaN(date) ){
                            return ""
                        }
                        return date.Format("yyyy-MM-dd");
                    }
                },
                {title: "备注", index: 90, field: "bz", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "系统版本", index: 100, field: "sysversion", width: 160, halign:'center', align: 'left',  hidden: true },
                {title: "维护人编码", index: 110, field: "whrid", width: 160, halign:'center', align: 'left',  hidden: true },
                {title: "维护人", index: 120, field: "whr", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "维护时间", index: 130, field: "whsj", width: 160, halign:'center', align: 'center',  hidden: false , formatter:function (value) {
                        if ( value==undefined || value =='' ){
                            return "";
                        }
                        var date = new Date(parseInt(value));
                        if ( isNaN(date) ){
                            return ""
                        }
                        return date.Format("yyyy-MM-dd");
                    }
                },
                {title: "创建人编码", index: 140, field: "cjrid", width: 160, halign:'center', align: 'left',  hidden: true },
                {title: "创建人", index: 150, field: "cjr", width: 160, halign:'center', align: 'left',  hidden: false },
                {title: "创建时间", index: 160, field: "cjsj", width: 160, halign:'center', align: 'center',  hidden: false , formatter:function (value) {
                        if ( value==undefined || value =='' ){
                            return "";
                        }
                        var date = new Date(parseInt(value));
                        if ( isNaN(date) ){
                            return ""
                        }
                        return date.Format("yyyy-MM-dd");
                    }
                }
            ]],
            dialog:{
                id:'reportParamEdit',
                width: 1000,
                height: 600,
                href:'report/reportparam/edit',
                addGroup:[{text:"保存并继续",url:'report/reportparam/add',iconCls:'fa fa-check',handler:'ajaxForm',noClear:true,btnCls:'gui-btn-continue'},
                {text:"保存",url:'report/reportparam/add',iconCls:'fa fa-save',handler:'ajaxForm',btnCls:'gui-btn-save'}]
            }
        };
        $div.Container(options);
    });

</script>