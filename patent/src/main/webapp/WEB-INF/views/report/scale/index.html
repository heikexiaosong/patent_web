<div id="scale" class="gui-div">
    <table class="toolbar-table" data-options="id: 'scaleTable'">
    </table>

    <div id="scaleTable-toolbar" class="gui-toolbar" data-options="grid:{type:'datagrid',id:'scaleTable'}">
        <a class="toolbar-reload toolbar" href="javascript:void(0)"></a>
        <a type="submit" class="btn btn-primary serach toolbar-search"></a>
        <div class="bdsug" style="height: auto; display: none">
            <form action="" class="query-criteria">
                <ul>
                    <li class="bdsug-store bdsug-overflow">
                        <span style="margin: 10px">
                            <label>日期：</label>
                            <input type="text" name="start">
                            -
                            <input type="text" name="end">
                        </span>
                        <!--<span style="margin: 10px">-->
                        <!--<label>运输方式：</label><input type="text" name="scaleType">-->
                        <!--</span>-->
                    </li>
                </ul>
            </form>
        </div>
    </div>

</div>
<script>
    $(function () {
        var $div = $('#scale');

        $div.find('input[name="start"]').iDatebox();

        $div.find('input[name="end"]').iDatebox();

        $div.find('input[name="scaleType"]').iCombobox({
            textField: "text",
            valueField: "value",
            data: [
                {},
                { text: " 购进物料计量(火车)", value: "W", selected: !0},
                { text: "购进物料计量(汽车)", value: "H" },
                { text: "内转物料的计量", value: "A"},
                { text: "铁水计量", value: "A"},
                { text: "销售货物计量", value: "A"}
            ],
            width: 120
        });

        var options = {
            url: 'report/scale',
            columns: [[


                {title: "材料流向", index: 1, field: "FD_CIRCULATION_TYPE", width: 160, align: 'center'},
                {title: "物料名称", index: 2, field: "FD_GOODS_NAME", width: 160, align: 'center'},
                {title: "数量", index: 3, field: "FD_TARE_WEIGHT", width: 160, align: 'center'},
                {title: "车数", index: 4, field: "FD_COUNTS", width: 160, align: 'center'},


                {title: "码单编号", index: 1, field: "FD_BILL_ID", width: 160, hidden:'true', align: 'center'},
                {
                    title: "秤类别",
                    index: 2,
                    field: "FD_SCALE_TYPE",
                    width: 160,
                    hidden:'true', align: 'center',
                    formatter: function (value, index, row) {
                        var map = {1: "汽车", 2: "动态轨道衡", 3: "静态轨道衡", 4: "动静两用"};
                        var text = map[value];
                        return text || "启用";
                    }
                },
                {title: "车号", index: 3, field: "FD_TRUCK_ID", width: 160, hidden:'true', align: 'center'},
                {title: "车次（轨道）", index: 4, field: "FD_TRAIN_SEQUENCE", width: 160, hidden:'true', align: 'center'},
                {title: "罐号（轨道）", index: 5, field: "T_SCALE_DATA", width: 160, hidden:'true', align: 'center'},
                {title: "司秤类别（毛重,皮重）", index: 6, field: "FD_TRAIN_TYPE", width: 160, hidden:'true', align: 'center'},
                {title: "物资类别", index: 8, field: "FD_GOODS_TYPE", width: 160, hidden:'true', align: 'center'},
                {title: "发货单位", index: 9, field: "FD_SEND_UNIT", width: 160, hidden:'true', align: 'center'},
                {title: "装货地点", index: 10, field: "FD_SEND_PLACE", width: 160, hidden:'true', align: 'center'},
                {title: "收货单位", index: 11, field: "FD_RECEIVE_UNIT", width: 160, hidden:'true', align: 'center'},
                {title: "卸货地点", index: 12, field: "FD_RECEIVE_PLACE", width: 160, hidden:'true', align: 'center'},
                {title: "理论重量/对方重量", index: 13, field: "FD_ACADEMIC_WEIGHT", width: 160, hidden:'true', align: 'center'},
                {title: "毛重", index: 14, field: "FD_GROSS_WEIGHT", width: 160, hidden:'true', align: 'center'},
                {title: "扣重(质量)", index: 16, field: "FD_CUT_WEIGHT", width: 160, hidden:'true', align: 'center'},
                {
                    title: "上传时间",
                    index: 18,
                    field: "FD_UPLOAD_DATE",
                    width: 160,
                    hidden:'true', align: 'center',
                    formatter: function (value, row, index) {
                        if (value == undefined || value == '') {
                            return "";
                        }
                        var date = new Date(parseInt(value));
                        if (isNaN(date)) {
                            return ""
                        }
                        return date.Format("yyyy-MM-dd");
                    }
                },
                {
                    title: "毛重时间",
                    index: 19,
                    field: "FD_GROSS_DATE",
                    width: 160,
                    hidden:'true', align: 'center',
                    formatter: function (value, row, index) {
                        if (value == undefined || value == '') {
                            return "";
                        }
                        var date = new Date(parseInt(value));
                        if (isNaN(date)) {
                            return ""
                        }
                        return date.Format("yyyy-MM-dd");
                    }
                },
                {title: "皮重时间", index: 20, field: "FD_TARE_DATE", width: 160, hidden:'true', align: 'center'}

                ,
                {title: "毛重班次", index: 21, field: "FD_GROSS_SHIFT", width: 160, hidden:'true', align: 'center'}
                ,
                {title: "皮重班次", index: 22, field: "FD_TARE_SHIFT", width: 160, hidden:'true', align: 'center'}
                ,
                {title: "毛重司秤员", index: 23, field: "FD_GROSS_OPER", width: 160, hidden:'true', align: 'center'}
                ,
                {title: "皮重司秤员", index: 24, field: "FD_TARE_OPER", width: 160, hidden:'true', align: 'center'}
                ,
                {title: "毛重秤房号", index: 25, field: "FD_GROSS_SCALE_ID", width: 160, hidden:'true', align: 'center'}
                ,
                {title: "皮重称房号", index: 26, field: "FD_TARE_SCALE_ID", width: 160, hidden:'true', align: 'center'}
                ,
                {title: "删除标记位", index: 27, field: "FD_DEL_FLAG", width: 160, hidden:'true', align: 'center'}
                ,
                {
                    title: "网络上传标记位",
                    index: 28,
                    field: "FD_UP_FLAG",
                    width: 160,
                    hidden:'true', align: 'center',
                    formatter: function (value, index, row) {
                        var map = {0: '未上传', 1: "上传"};
                        var text = map[value];
                        return text || value;
                    }
                },

                {title: "人工上传标记", index: 28, field: "FD_MNU_FLAG", width: 160, hidden:'true', align: 'center'},
                {title: "已传递标记位（给其他系统）", index: 28, field: "FD_TRANS_FLAG", width: 160, hidden:'true', align: 'center'},
                {title: "备注", index: 29, field: "FD_NOTE", width: 160, hidden:'true', align: 'center'},
                {title: "钢种", index: 30, field: "FD_STEEL_KIND", width: 160, hidden:'true', align: 'center'},
                {title: "材质", index: 31, field: "FD_GRADE", width: 160, hidden:'true', align: 'center'},
                {title: "规格型号(检尺计量使用规格)", index: 32, field: "FD_SPEC", width: 160, hidden:'true', align: 'center'},
                {title: "炉号/制造命令号/熔炼号/铁次", index: 33, field: "FD_POID", width: 160, hidden:'true', align: 'center'},
                {title: "铁水等级", index: 34, field: "FD_STEEL_GRADE", width: 160, hidden:'true', align: 'center'},
                {title: "船号", index: 35, field: "FD_BOAT_ID", width: 160, hidden:'true', align: 'center'},
                {title: "产地", index: 36, field: "FD_PRODUCT_PLACE", width: 160, hidden:'true', align: 'center'}


                ,
                {title: "合同号", index: 37, field: "FD_PACT_ID", width: 160, hidden:'true', align: 'center'},
                {title: "委托号", index: 38, field: "FD_REQUEST_ID", width: 160, hidden:'true', align: 'center'},
                {title: "委托方", index: 39, field: "FD_REQUESTER", width: 160, hidden:'true', align: 'center'},
                {title: "运输单位", index: 40, field: "FD_TRAIN_UNIT", width: 160, hidden:'true', align: 'center'},
                {title: "生产日期", index: 41, field: "FD_PRODUCT_TIME", width: 160, hidden:'true', align: 'center'},
                {title: "生产班次", index: 42, field: "FD_PRODUCT_SHIFT", width: 160, hidden:'true', align: 'center'},
                {title: "质检员'", index: 43, field: "FD_QUALITY_USER", width: 160, hidden:'true', align: 'center'},
                {title: "收料扣杂", index: 44, field: "FD_RECEIVED_WEIGHT", width: 160, hidden:'true', align: 'center'},
                {title: "'收料员(料场)", index: 45, field: "FD_RECEIVED_USER", width: 160, hidden:'true', align: 'center'},
                {title: "数据插入日期", index: 46, field: "FD_IN_TIME", width: 160, hidden:'true', align: 'center',
                    formatter: function (value, row, index) {
                        if (value == undefined || value == '') {
                            return "";
                        }
                        var date = new Date(parseInt(value));
                        if (isNaN(date)) {
                            return ""
                        }
                        return date.Format("yyyy-MM-dd");
                    }}


                ,
                {
                    title: "运输方式(购进物料计量(火车) \\购进物料计量(汽车) \\内转物料的计量\\铁水计量\\销售货物计量)",
                    index: 47,
                    field: "FD_TRANSPORT_TYPE",
                    width: 160,
                    hidden:'true', align: 'center'
                },
                {title: "原始毛重单号", index: 48, field: "FD_ORIGINALBILLB", width: 160, hidden:'true', align: 'center'},
                {title: "原始皮重单号", index: 49, field: "FD_ORIGINALBILLA", width: 160, hidden:'true', align: 'center'},
                {title: "打印次数", index: 51, field: "FD_PRINTCOUNT", width: 160, hidden:'true', align: 'center'},
                {title: "检尺计量使用型号", index: 52, field: "FD_MODEL", width: 160, hidden:'true', align: 'center'},
                {title: "检尺计量使用牌号", index: 53, field: "FD_BRAND", width: 160, hidden:'true', align: 'center'},
                {title: "检尺计量使用包装标准", index: 54, field: "FD_STANDARD", width: 160, hidden:'true', align: 'center'},
                {title: "检尺计量使用负差率", index: 55, field: "FD_NEGATIVE", width: 160, hidden:'true', align: 'center'},
                {title: "检尺计量使用理论重量", index: 56, field: "FD_THEORYWEIGHT", width: 160, hidden:'true', align: 'center'},
                {title: "统计单位", index: 57, field: "FD_COL1", width: 160, hidden:'true', align: 'center'},
                {title: "IC卡号", index: 58, field: "FD_COL2", width: 160, hidden:'true', align: 'center'}

                ,
                {title: "批号", index: 59, field: "FD_BATCH_NO", width: 160, hidden:'true', align: 'center'},
                {title: "含沫子", index: 60, field: "FD_CONTENT", width: 160, hidden:'true', align: 'center'},
                {title: "收料扣杂时间", index: 61, field: "FD_RECEIVED_TIME", width: 160, hidden:'true', align: 'center'},
                {title: "质量扣杂时间", index: 62, field: "FD_CUT_TIME", width: 160, hidden:'true', align: 'center'},
                {title: "是否接收 接收 拒收", index: 63, field: "FD_RECEIVED_YESORNO", width: 160, hidden:'true', align: 'center'},
                {title: "修约 毛重", index: 64, field: "FD_GROSS_WEIGHT_ROUNDING", width: 160, hidden:'true', align: 'center'},
                {title: "修约 皮重", index: 65, field: "FD_TARE_WEIGHT_ROUNDING", width: 160, hidden:'true', align: 'center'},
                {title: "修约 毛重时间", index: 66, field: "FD_GROSS_DATE_ROUNDING", width: 160, hidden:'true', align: 'center'},
                {title: "修约 皮重时间", index: 67, field: "FD_TARE_DATE_ROUNDING", width: 160, hidden:'true', align: 'center'},
                {title: "修约 磅单号", index: 68, field: "FD_BILL_ID_ROUNDING", width: 160, hidden:'true', align: 'center'},
                {title: "修约 用户", index: 69, field: "FD_ROUNDING_OPER", width: 160, hidden:'true', align: 'center'}


                ,
                {title: "虚拟皮重", index: 70, field: "FD_TARE_WEIGHTXL", width: 160, hidden:'true', align: 'center'},
                {title: "虚拟毛重", index: 71, field: "FD_GROSS_WEIGHTXL", width: 160, hidden:'true', align: 'center'},
                {title: "通知流水单号(无人值守接口新增)", index: 72, field: "NOTICE_ID", width: 160, hidden:'true', align: 'center'},
                {title: "磅单流水号(无人值守接口新增)", index: 73, field: "POUND_ID", width: 160, hidden:'true', align: 'center'},
                {title: "磅单类型(无人值守接口新增)", index: 74, field: "POUND_TYPE", width: 160, hidden:'true', align: 'center'},
                {
                    title: "回传类型(无人值守接口新增)",
                    index: 75,
                    field: "RETURNT_YPE",
                    width: 160,
                    hidden:'true', align: 'center',
                    formatter: function (value, index, row) {
                        var map = {01: '新增', 02: "修改"};
                        var text = map[value];
                        return text || value;
                    }
                },
                {title: "净重(无人值守接口新增)", index: 76, field: "NET_WEIGHT", width: 160, hidden:'true', align: 'center'},
                {
                    title: "数据来源(无人值守接口新增)",
                    index: 77,
                    field: "DATASOURCE",
                    width: 160,
                    hidden:'true', align: 'center',
                    formatter: function (value, index, row) {
                        var map = {1001: 'ERP', 1002: "自增(自增的数据不传给SAP)"};
                        var text = map[value];
                        return text || value;
                    }
                },
                {
                    title: "卸车结果(无人值守接口新增)",
                    index: 78,
                    field: "UNLOADRESULT",
                    width: 160,
                    hidden:'true', align: 'center',
                    formatter: function (value, index, row) {
                        var map = {
                            8201: '正常',
                            8202: "拒收(拒收、没收的磅单不传到SAP)",
                            8203: "部分拒收(拒收、没收的磅单不传到SAP)",
                            8204: "没收(拒收、没收的磅单不传到SAP)"
                        };
                        var text = map[value];
                        return text || value;
                    }
                }


            ]]
        };
        $div.Container(options);
    });
</script>